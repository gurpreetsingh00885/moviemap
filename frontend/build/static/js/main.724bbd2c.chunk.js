(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{60:function(e,t,a){e.exports=a(88)},65:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(31),c=a.n(r),o=(a(65),a(20)),i=a(21),s=a(23),m=a(22),u=a(24),h=a(57),d=a(25),E=a(55),p=a(27),g=a(37),b=a(28),y=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={text:""},a.search=function(e){a.props.history.push("/search/".concat(a.state.text),{key:a.state.text})},a.onTextChange=function(e){var t=document.getElementById("text").value;a.setState({text:t})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(E.a,null,l.a.createElement("h1",null,"Movie Map"),l.a.createElement("br",null),l.a.createElement("p",null,"Wanna find the spots your favorite movie was shot at? You're in luck!")),l.a.createElement("br",null),l.a.createElement("br",null),"Lets get you started!",l.a.createElement("center",{style:{margin:20}},l.a.createElement(b.a,{size:"lg",className:"mb-3",style:{maxWidth:600,marginTop:30}},l.a.createElement(g.a,{placeholder:"Enter Movie Name","aria-label":"Word","aria-describedby":"basic-addon2",id:"text",onChange:this.onTextChange,onKeyDown:function(t){"Enter"===t.key&&""!==e.state.text&&e.search()}}),l.a.createElement(b.a.Append,null,l.a.createElement(p.a,{variant:"outline-secondary",disabled:""===this.state.text,onClick:this.search},"Go")))))}}]),t}(n.Component),f=a(16),v=a(33),x=a(30),k=a.n(x),j=a(59),w=a(32),O=a(29),C=a(19),T=function(e){return l.a.createElement(f.a,{style:{marginBottom:20}},l.a.createElement(f.a.Body,null,l.a.createElement(f.a.Subtitle,{className:"mb-2 text-muted",style:{float:"right"}},e.data.release_year),l.a.createElement(f.a.Title,null,e.data.title),l.a.createElement(w.a,null,l.a.createElement(O.a,{style:{marginBottom:10}},l.a.createElement(C.a,null,l.a.createElement("b",null,"Cast")," ",l.a.createElement("br",null),e.data.actors.length>=1&&l.a.createElement("span",null,e.data.actors[0].name),e.data.actors.length>=2&&l.a.createElement("span",null,e.data.actors[0].name&&","," ",e.data.actors[1].name),e.data.actors.length>=3&&l.a.createElement("span",null,e.data.actors[1].name&&","," ",e.data.actors[2].name))),l.a.createElement(O.a,null,l.a.createElement(C.a,null,l.a.createElement("b",null,"Director")," ",l.a.createElement("br",null),e.data.director&&e.data.director.name),l.a.createElement(C.a,null,l.a.createElement("b",null,"Writer")," ",l.a.createElement("br",null),e.data.writer&&e.data.writer.name))),l.a.createElement(f.a.Link,{style:{float:"right"},onClick:function(t){t.preventDefault(),e.history.push("/movie/".concat(e.data.id,"/"))},href:""},e.data.locations.length," Locations")))},A=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).onTextChange=function(e){var t=document.getElementById("text").value;a.setState({text:t})},a.search=function(e){a.props.history.push("/search/".concat(a.state.text),{key:a.state.text})};var n=a.props.match.params.query;return a.state={text:n,searching:!0,data:[]},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;k.a.get("/api/search/".concat(this.state.text,"/")).then((function(t){e.setState({searching:!1,data:t.data}),console.log(t.data)})).catch((function(t){e.setState({searching:!1}),console.log(t)}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement("div",{style:{padding:20,margin:"auto",display:"inline-block",maxWidth:640,width:"100%",textAlign:"justify"}},l.a.createElement("h1",{style:{textAlign:"center"}}," MovieMap "),l.a.createElement(b.a,{size:"lg",className:"mb-3",style:{marginTop:30,maxWidth:600}},l.a.createElement(g.a,{placeholder:"Enter Movie Name","aria-describedby":"basic-addon2",id:"text",onChange:this.onTextChange,onKeyDown:function(t){"Enter"===t.key&&""!==e.state.text&&e.search()},value:this.state.text}),l.a.createElement(b.a.Append,null,l.a.createElement(p.a,{variant:"outline-secondary",disabled:""===this.state.text,onClick:this.search},"Go"))),l.a.createElement("div",{style:{background:"",height:"100%",width:"100%",maxWidth:600,marginTop:40}},this.state.searching&&l.a.createElement(v.a,{style:{position:"absolute",left:0,right:0,margin:"auto",top:0,bottom:0},animation:"border",role:"status"},l.a.createElement("span",{className:"sr-only"},"Loading...")),!this.state.searching&&l.a.createElement("div",null,l.a.createElement("b",null,"Results"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(j.a,null,0===this.state.data.length&&l.a.createElement("div",null,l.a.createElement("h4",null," Nothing Found ")),this.state.data.map((function(t,a){return l.a.createElement(T,{data:t,key:a,history:e.props.history})})))))))}}]),t}(n.Component),N=function(){return l.a.createElement("div",{style:{marginTop:50}},l.a.createElement("center",null,l.a.createElement("h2",null," Not Found "),l.a.createElement("br",null),l.a.createElement("p",null," The page you're looking for does not exists. ")))},W=a(39),S=a(92),B=a(93),M=a(91),z=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={movie:null},a.componentDidMount=function(){k.a.get("/api/movie/".concat(a.props.match.params.id,"/")).then((function(e){return e.data.locations.map((function(e,t){return k.a.get("https://nominatim.openstreetmap.org/search?format=json&q=".concat(e.address)).then((function(e){var n=a.state.movie;e.data.length&&(n.locations[t].lat=e.data[0].lat,n.locations[t].lon=e.data[0].lon),a.setState({movie:n})})).catch((function(e){return console.log(e)})),0})),a.setState({searching:!1,movie:e.data}),0})).catch((function(e){a.setState({searching:!1}),a.props.history.push("/404/")}))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.movie;return t?l.a.createElement("div",{style:{textAlign:"center",padding:20,maxWidth:640,margin:"auto"}},l.a.createElement("h2",null,t.title),l.a.createElement("span",{className:"mb-2 text-muted"}," ",t.release_year," "),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement("div",{style:{textAlign:"initial"}},l.a.createElement(w.a,null,l.a.createElement(O.a,{style:{marginBottom:10}},l.a.createElement(C.a,null,l.a.createElement("b",null,"Cast")," ",l.a.createElement("br",null),t.actors.length>=1&&l.a.createElement("span",null,t.actors[0].name),t.actors.length>=2&&l.a.createElement("span",null,t.actors[0].name&&","," ",t.actors[1].name),t.actors.length>=3&&l.a.createElement("span",null,t.actors[1].name&&","," ",t.actors[2].name)),l.a.createElement(C.a,null,l.a.createElement("b",null,"Distributor")," ",l.a.createElement("br",null),t.distributor&&t.distributor.name)),l.a.createElement(O.a,null,l.a.createElement(C.a,null,l.a.createElement("b",null,"Director")," ",l.a.createElement("br",null),t.director&&t.director.name),l.a.createElement(C.a,null,l.a.createElement("b",null,"Writer")," ",l.a.createElement("br",null),t.writer&&t.writer.name))),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement("b",null," Locations ")," (",t.locations.length,") ",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(W.a,null,t.locations.map((function(t,a){return l.a.createElement(f.a,{key:a},l.a.createElement(W.a.Toggle,{style:{cursor:"pointer"},as:f.a.Header,eventKey:a,onClick:function(){return function(t){setTimeout((function(){return e.refs["map".concat(t)].leafletElement.invalidateSize()}),200)}(a)}},t.address),l.a.createElement(W.a.Collapse,{eventKey:a},l.a.createElement(f.a.Body,{style:{padding:0,height:"300px"}},l.a.createElement(S.a,{style:{zIndex:"0",height:"100%",width:"100%",margin:0},center:[t.lat||10,t.lon||10],zoom:13,ref:"map".concat(a)},l.a.createElement(B.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),l.a.createElement(M.a,{position:[t.lat||10,t.lon||10]})),l.a.createElement(p.a,{style:{zIndex:"1",position:"absolute",bottom:5,right:5},onClick:function(){return e=t.lat||10,a=t.lon||10,void window.open("http://maps.google.com/maps?q=".concat(e,",").concat(a));var e,a}},"Navigate"),void 0===t.lat&&l.a.createElement("div",{style:{width:"100%",height:"100%",background:"black",zIndex:"2",position:"absolute",opacity:.6,top:49,left:0,textAlign:"center",lineHeight:"300px"}},l.a.createElement("span",{style:{color:"gray"}},"Unable to load address")))))}))))):l.a.createElement(v.a,{style:{position:"absolute",left:0,right:0,margin:"auto",top:0,bottom:0},animation:"border",role:"status"},l.a.createElement("span",{className:"sr-only"},"Loading..."))}}]),t}(n.Component),D=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(h.a,null,l.a.createElement(d.c,null,l.a.createElement(d.a,{exact:!0,path:"/",component:y}),l.a.createElement(d.a,{exact:!0,path:"/search/:query",render:function(e){return l.a.createElement(A,Object.assign({key:e.match.params.query},e))}}),l.a.createElement(d.a,{exact:!0,path:"/movie/:id",component:z}),l.a.createElement(d.a,{exact:!0,component:N})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[60,1,2]]]);
//# sourceMappingURL=main.724bbd2c.chunk.js.map